task :default => [:build]

desc "Builds the solution using Mono"
task :build do
  sh ".paket/paket.exe install"
  sh "xbuild /verbosity:quiet"
end

task :docker do
  Rake::Task['docker:running'].invoke
end

namespace :docker do

  desc "Shows running containers for solution"
  task :running do
    sh "docker-compose ps"
  end

  desc "Starts all containers"
  task :up do
    sh "docker-compose up -d"
  end

  desc "Shows container logs"
  task :logs do
    sh "docker-compose logs"
  end

  desc "Stops all containers"
  task :down do
    sh "docker-compose down &"
  end

end
